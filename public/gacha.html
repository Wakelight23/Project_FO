<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>가챠 시스템</title>
    <style>
      body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        background-color: #111; /* 어두운 배경 */
        font-family: Arial, sans-serif;
        overflow: hidden;
      }

      video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%; /* 전체 화면에 맞추기 */
        height: 100%; /* 전체 화면에 맞추기 */
        object-fit: cover; /* 비율 유지하며 잘림 */
        z-index: 1; /* 비디오 배경 */
      }

      .card {
        position: absolute;
        width: 150px; /* 카드 너비 */
        height: 200px; /* 카드 높이 */
        transform-style: preserve-3d; /* 3D 회전 유지 */
        transition: transform 0.1s, box-shadow 0.1s; /* 회전 및 그림자 애니메이션 */
        z-index: 2; /* 카드가 비디오 위에 표시 */
        left: 50%; /* 중앙 정렬 */
        top: 50%; /* 중앙 정렬 */
        transform: translate(-50%, -50%); /* 중앙 정렬 */
        border: 4px solid #fff; /* 테두리 설정 */
        border-radius: 10px; /* 모서리 둥글게 */
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5); /* 그림자 효과 */
        background-color: rgba(255, 255, 255, 0.8); /* 배경색 설정 */
      }

      .card img {
        width: 100%; /* 카드 이미지 크기 */
        height: 100%; /* 카드 이미지 크기 */
        border-radius: 10px; /* 카드 모서리 둥글게 */
      }
    </style>
  </head>
  <body>
    <video id="gachaVideo" src="gacha_bg.mp4" preload="auto" loop muted></video>
    <!-- 비디오 URL을 여기에 입력 -->
    <div class="card" id="card">
      <img
        id="cardImage"
        src="https://i.namu.wiki/i/iXQUE8uZkB2TYB1amELxa9s-D0LHdLZDy0f2Ag78kpXfqWLrXX5SZ53UBKXS7wQ382FKc4oHpI_Mck1PpRSQlBIFdzD0jKSJWvjgnMd_uEuPf3ceIIgRDNEweebZzoJOM4n2T2my_RI2PnHVoBvbXw.webp"
        alt="Card"
      />
    </div>

    <script>
      const video = document.getElementById('gachaVideo');
      const card = document.getElementById('card');
      const cardImage = document.getElementById('cardImage');

      let rotationX = 0;
      let rotationY = 0;

      // 비디오 자동 재생
      video.play();
      video.playbackRate = 1.5; // 비디오 재생 속도 2배속

      document.body.addEventListener('mousemove', (event) => {
        const rect = card.getBoundingClientRect();
        const mouseX = event.clientX - (rect.left + rect.width / 2);
        const mouseY = event.clientY - (rect.top + rect.height / 2);

        // 마우스 위치에 따라 카드의 회전 각도 계산 (최대 각도 제한)
        rotationY = Math.max(-35, Math.min(35, (mouseX / rect.width) * 15)); // -20도에서 20도까지 회전 제한
        rotationX = Math.max(-35, Math.min(35, (mouseY / rect.height) * 15)); // -20도에서 20도까지 회전 제한

        // 카드 회전 적용
        card.style.transform = `translate(-50%, -50%) rotateY(${rotationY}deg) rotateX(${rotationX}deg)`;
      });

      // 비디오가 로드되면 자동 재생
      video.onloadeddata = () => {
        video.play();
      };
    </script>
  </body>
</html>
