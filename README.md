# Project_FutsalOnline
안녕하세요. 1조 조원 최슬기입니다. 제가 만든 기능에 대해 간략하게 소개하는 문서를 작성하고자 합니다.</br>
우선 제가 만든 기능은 크게 두 가지입니다.</br></br>
(1) 경기에 출전할 선수를 선발하고 선발 명단을 수정하는 API</br>
(2) 보유한 선수 카드를 강화하는 API</br></br>
두 기능을 어떤 방식으로 구현하고 구성하였는지 아래에서 더 자세히 설명하도록 하겠습니다.</br>

## 선수 명단 보기 API
위에 따로 분류를 해두지 않았지만, 보유한 선수 카드를 볼 수 있는 API를 준비해두었습니다. managerId 입력을 통해 선수들의 스탯을 확인하고 출전 선수로 선발할 수 있으며,</br>
(아직 구현하지 않음)강화가 가능한 경우엔 강화 또한 진행할 수 있습니다.</br></br>

→ API 테스트 예시(서로 다른 테스트 테이블에서 진행)
![](attachment/966dce4f3fc4195dcdfe96995d74d301.png)</br>
![](attachment/f2b40649e081b7320bfe9c8537d88af1.png)</br>

## 출전 선수 선발 API
게임에 출전하게 될 선수를 teamMemberId를 입력 받아 선발하는 API입니다. 반드시 세 명의 Id를 입력받을 수 있게끔 유효성 검사를 넣어두었습니다. 세 명의 스탯을 DB를 통해 읽어와서 예상 점수 또한 확인할 수 있습니다.(가중치로 계산하는 건 아직 구현되지 않음)</br></br>

→ API 테스트 예시(서로 다른 테스트 테이블에서 진행)
![](attachment/376ff047843bb27ef64f444157dd7c4b.png)</br>
![](attachment/738f274af3fb13fb08c469a17f6de6fb.png)</br>

## 출전 선수 변경 API
출전 선수 중 한 명을 다른 선수와 교체할 수 있는 API입니다.</br></br>

→ API 테스트 예시</br>
![](attachment/22a65d3c997e8cfac133febb9c6b78cf.png)</br>
1, 4, 5번 선수를 선발하고</br>
![](attachment/b6820ac2e735fb0b361154d32af4658f.png)</br>
1번 선수를 3번 선수로 변경하면 다음과 같은 결과를 반환받을 수 있습니다.</br>
![](attachment/f57bfec6ab0d5762d0389d4f51912bdc.png)</br>
isSelected의 값이 제대로 변경된 모습을 DB를 통해서도 확인할 수 있습니다.

## 선수 카드 강화 API
이 게임에서 사용자는 Manager라고 불리며, Manager가 보유한 선수 카드는 강화가 가능합니다. 이를 위해선 (1)강화를 진행하려는 카드와 (2)강화의 재료로 쓰일 카드를 각각 선택해야합니다. 이 두 장의 카드는 같은 playerId를 가지고 있어야 하며(같은 종류), 같은 등급이어야 합니다. 성공하면 upgrade 수치가 상승하여 점수 계산 시 해당 값이 반영됩니다. 그러나 실패하게 되면 (1)번 카드의 등급이 현재 등급 미만의 랜덤한 등급으로 하락합니다.</br></br>

→ API 테스트 예시 - 성공</br>
![](attachment/1ec29a645ee76befe55cc6224cc2109e.png)</br>
3번 계정이 49번과 43번 멤버를 소유하고 있습니다. 둘은 같은 종류/같은 등급의 선수입니다. 두 장의 선수 카드를 강화 API에 바쳐보겠습니다.</br>

![](attachment/82aaf59f973878610763db074279c8a5.png)</br>
결과는 성공!(등급이 0일 때 확률은 100퍼센트)</br>

![](attachment/1c158aba3e9643253fccd219516a3f14.png)</br>
49번의 upgrade 수치가 상승하고 43번이 사라진 것을 확인할 수 있습니다.

→ API 테스트 예시 - 실패</br>

![](attachment/Pasted%20image%2020241204123529.png)</br>
실패한 예시를 보여드리기 위해 등급이 1 올라간 두 카드(49번, 50번)를 준비했습니다.</br>

![](attachment/Pasted%20image%2020241204123552.png)</br>
Insomnia로 API를 실행한 결과, 강화에 실패한 모습</br>
만약, 로직이 제대로 구현이 되어 있다면 강화 대상 카드였던 49번은 1 등급 미만의 카드로 강등당해야 하며, 50번 카드는 테이블에서 사라져야 합니다.</br>

![](attachment/Pasted%20image%2020241204123822.png)</br>
예상한 것처럼 선수 카드가 강등되고 사라진 모습을 확인할 수 있었습니다.</br>

---

## 개발 체크리스트
- [x] 선수 명단 보기 API ✅ 2024-12-02
- [x] 출전 선수 선발 API ✅ 2024-12-02
- [x] 출전 선수 변경 API ✅ 2024-12-03
- [x] 선수 카드 강화 API ✅ 2024-12-04

### 보완해야 하는 기능
- [ ] 강화가 가능한 경우 '선수 명단 보기 API'에서 확인이 가능해야 한다.(teamMemberId도 포함)
- [ ] 선수의 점수를 카드의 스탯과 가중치를 통한 로직으로 구현해야 한다.